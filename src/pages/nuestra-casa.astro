---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { images } from '../data/images.js';

const coverImage = images.coverImages.main;
const ourHouseImages = [images.ourHouse[1], images.ourHouse[2], images.ourHouse[3]];
---

<Layout
  title="Nuestra Casa - La Casa del Bosque de Nubes"
  description="Descubre nuestra casa tradicional en el corazón de Cocachimba, Amazonas"
>
  <Header />

  <main>
    <!-- Cover Section -->
    <div id="nuestra-casa-cover" class="relative">
      <div
        class="relative w-full flex items-center justify-center h-screen"
        style={`background-image: url('${coverImage}'); background-position: center bottom; background-size: cover; background-repeat: no-repeat;`}
      >
        <div class="absolute inset-0 z-10 w-full h-full" style="background-color: rgba(60, 52, 69, 0.2); opacity: 0.2;"></div>
        
        <!-- Contenedores para título y subtítulo (vacíos según el HTML de referencia) -->
        <div class="relative z-20 text-center text-white pointer-events-none">
          <div>
            <h1 class="text-white m-0 inline-block text-[35px]" id="cover-title-nuestra-casa"></h1>
          </div>
          <div>
            <h3 class="text-white m-0 inline-block text-lg" id="cover-subtitle-nuestra-casa"></h3>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Text Block with Multiple Images Section -->
    <section id="block_1412185" class="pt-0 pb-10 md:py-10 lg:py-10 bg-section-beige">
      <div class="container-custom mx-auto lg:px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col lg:flex-row lg:gap-16 items-stretch justify-center">
          <!-- Left Side: Images Grid -->
          <div class="w-full lg:w-5/12 flex-shrink-0 p-0 flex">
            <div class="images-grid">
              <!-- First image - takes left column and full height (spans 2 rows) -->
              <div class="image-grid-item image-grid-item-tall">
                <img
                  src={ourHouseImages[0]}
                  alt="Casa del Bosque de Nubes 1"
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </div>
              <!-- Second image - top right -->
              <div class="image-grid-item">
                <img
                  src={ourHouseImages[1]}
                  alt="Casa del Bosque de Nubes 2"
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </div>
              <!-- Third image - bottom right -->
              <div class="image-grid-item">
                <img
                  src={ourHouseImages[2]}
                  alt="Casa del Bosque de Nubes 3"
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </div>
            </div>
          </div>

          <!-- Right Side: Text Content -->
          <div class="w-full lg:w-5/12 pt-5 flex-shrink-0 mt-6 lg:mt-0 self-start">
            <div class="text_block_with_multiple_images--text">
              <h2 class="j-block-title style__title pb2">
                La Casa
              </h2>
              <div class="j-block-separator style__separator hide-element">
                <hr class="hide-element">
                <div class="style__icon_separator j-block-icon-separator">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" enable-background="new 0 0 357 357" version="1.1" viewBox="0 0 357 357" xml:space="preserve"><g><g><path fill="#006DF0" d="M357,204H0v-51h357V204z"></path></g></g></svg>
                </div>
                <hr class="hide-element">
              </div>
              <div class="j-block-text style__text">
                Un refugio inspirado en las construcciones circulares Chachapoya y coronado con la sostenibilidad y versatilidad del bambú.<br>Situada en lo alto de una montaña, ofrece vistas panorámicas al Valle de las Cataratas y a nuestra imponente y querida Gocta. <br><br>La casa se distribuye en dos áreas:<br>La zona de descanso y el área social.<br><strong>La zona de descanso</strong>  está compuesta por dos amplias habitaciones, cada una con zona de trabajo, armario y baño propio.<br><strong>La habitación "Pirka"</strong>  cuenta con una cama Queen (y de manera complementaria con un cama baja de 1 plaza, extraible de ser necesario), terraza y panorámicas a la catarata.<br><strong>La habitación Gatmalap</strong>  cuenta con una cama Queen, jardín e impresionantes panorámicas al valle.<br><br>El área social cuenta con salón, cocina, comedor y terraza.<br>La cocina está totalmente equipada, el salón cuenta con zona de estar con estufa a leña y vistas directas a la catarata y salida a la terraza principal. (parrilla portátil bajo solicitud sin costo extra)<br><br>La casa está rodeada de un frondoso jardín de orquídeas, plantas locales y árboles nativos, que alberga orgulloso colibríes, mariposas, y muchos más huéspedes de la naturaleza.<br><br>Cuando el cielo lo permite, la zona de fogata es ideal para acompañar con fuego el espectáculo de las estrellas.<br><br><strong>Advertencias y recomendaciones:</strong> <br>Nuestra casa está en el medio de la naturaleza, por lo tanto pueden presentarse intermitencias eléctricas, además de algunas posibles aventuras rústicas como incursiones esporádicas de la fauna local (no olvidar que nosotros somos los visitantes), todo, parte del encanto del lugar.<br><br><strong><u>La llegada incluye una subida a pie de 5 minutos</u></strong>  (te ayudaremos con el equipaje).<br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="bg-section-white pt-4 pb-6 px-4">
      <div class="flex flex-col gap-4 items-center justify-center pb-6">
        <h2 class="text-2xl font-bold text-black">Servicios adicionales</h2>
        <p class="text-sm text-black text-justify">Para que disfrutes aún más de tu estancia, te ofrecemos una serie de servicios adicionales que puedes solicitar de manera anticipada. ¡Asegúrate de coordinar con nosotros para que todo esté listo cuando llegues!</p>
      </div>
      <div class="services-additional-grid">
        <div class="service-additional-item">
          <div class="service-additional-image">
            <img src={images.additionalImages.desayunos} alt="Desayunos" class="w-full h-full object-cover" />
          </div>
          <h3 class="text-base font-semibold text-black text-center mt-4">Desayunos</h3>
        </div>
        <div class="service-additional-item">
          <div class="service-additional-image">
            <img src={images.additionalImages.almuerzos} alt="Almuerzos" class="w-full h-full object-cover" />
          </div>
          <h3 class="text-base font-semibold text-black text-center mt-4">Almuerzos</h3>
        </div>
        <div class="service-additional-item">
          <div class="service-additional-image">
            <img src={images.additionalImages.excursiones} alt="Excursiones" class="w-full h-full object-cover" />
          </div>
          <h3 class="text-base font-semibold text-black text-center mt-4">Excursiones</h3>
        </div>
        <div class="service-additional-item">
          <div class="service-additional-image">
            <img src={images.additionalImages.compras} alt="Compras" class="w-full h-full object-cover" />
          </div>
          <h3 class="text-base font-semibold text-black text-center mt-4">Compras</h3>
        </div>
      </div>
    </section>
    <!-- Aquí irán las demás secciones que desarrolles después -->
  </main>

  <Footer />
</Layout>

<style>
  .container-custom {
    max-width: 1500px;
  }

  /* Text Block Styles */
  .text_block_with_multiple_images--text {
    text-align: center;
    margin-top: 16px;
  }

  .style__title {
    font-family: Cinzel, serif;
    font-weight: 400;
    font-size: 27px;
    margin-top: 16px;
    margin-bottom: 0px;
  }

  .style__text {
    font-family: Nunito;
    font-size:14px;
  }

  @media (min-width: 768px) {
    .style__title {
      font-size: 27px;
    }
  }

  .pb2 {
    padding-bottom: 0.25rem;
  }

  .mt2 {
    margin-top: 0.5rem;
  }

  .hide-element {
    display: none;
  }

  .style__separator {
    margin: 1rem 0;
  }

  .style__icon_separator {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .style__text {
    font-size: 0.875rem;
    color: #2e2925;
    font-weight: 400;
    margin-top: 1rem;
    padding: 0 1rem;
    line-height: 1.4;
  }

  .style__button-alignment {
    margin-top: 1rem;
  }

  .style__button {
    display: inline-block;
    padding: 0.5rem 1rem;
    background-color: #006DF0;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.3s ease;
  }

  .style__button:hover {
    background-color: #0056b3;
  }

  .images-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 16px;
    width: 100%;
    min-height: 500px;
  }

  .image-grid-item {
    position: relative;
    display: block;
    overflow: hidden;
  }

  .image-grid-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .image-grid-item-tall {
    grid-column: 1 / 2;
    grid-row: 1 / 3;
  }

  .image-grid-item:nth-child(2) {
    grid-column: 2 / 3;
    grid-row: 1 / 2;
  }

  .image-grid-item:nth-child(3) {
    grid-column: 2 / 3;
    grid-row: 2 / 3;
  }

  /* Responsive: lista vertical en mobile */
  @media (max-width: 770px) {
    .images-grid {
      grid-template-columns: 1fr;
      grid-template-rows: auto;
      gap: 1rem;
      height: auto;
      margin-top: 16px;
    }

    .image-grid-item-tall,
    .image-grid-item:nth-child(2),
    .image-grid-item:nth-child(3) {
      grid-column: 1;
      grid-row: auto;
    }

    .image-grid-item {
      height: 450px;
    }

    /* Cambiar flex direction para mobile */
    #block_1412185 .flex {
      flex-direction: column;
    }

    #block_1412185 .w-full.lg\:w-5\/12 {
      width: 100%;
      margin-top: 1.5rem;
    }

    #block_1412185 .w-full.lg\:w-5\/12.p-0 {
      padding-top: 0;
      margin-top: 0;
    }
  }

  /* Services Additional Grid */
  .services-additional-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
    margin: 0 auto;
    padding: 0 0.5rem;
  }

  .service-additional-item {
    display: flex;
    flex-direction: column;
  }

  .service-additional-image {
    width: 100%;
    max-height: 350px;
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .service-additional-image:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  }

  .service-additional-image img {
    transition: transform 0.3s ease;
  }

  .service-additional-image:hover img {
    transform: scale(1.05);
  }

  /* Responsive: 2x2 grid en 770px o menos */
  @media (max-width: 770px) {
    .services-additional-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      padding: 0 1rem;
    }

    .service-additional-image {
      height: 160px;
    }
  }
</style>
